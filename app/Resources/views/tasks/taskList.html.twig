{% extends 'layout.html.twig' %}

  {% block panel_title %}
    {{ 'panel_title.tasks'|trans({}, 'messages') }}
  {% endblock %}

  {% block panel_body %}
  <div class="container">
   {% include 'includes/flashMessage.html.twig' %}
  </div>
    <div class="widget-content col-md-10 col-md-offset-1">
      <table id="contacts" class="table table-striped table-bordered table-hover">
        <thead>
          <tr>
            <th class="col-md-3">{{ 'table.title'|trans({}, 'messages') }}</th>
            <th class="col-md-3">{{ 'table.description'|trans({}, 'messages') }}</th>
            <th class="col-md-1">{{ 'table.user'|trans({}, 'messages') }}</th>
            <th class="col-md-1">{{ 'table.date'|trans({}, 'messages') }}</th>
            <th class="col-md-1">{{ 'table.category'|trans({}, 'messages') }}</th>
            <th class="col-md-1">{{ 'table.state'|trans({}, 'messages') }}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            {% for task in tasks %}
            <td><a href="{{ path("task", { 'id':task.id }) }}">{{ task.title |truncate(50) }}</a></td>
            <td>{{ task.description |truncate(50, true) }}</td>
            <td>{{ task.user }}</td>
            <td>{{ task.starttime|date('d-m-Y H:i') }}</td>
            <td><span class="label label-warning">{{ task.taskCategory }}</span></td>
            <td><span class="label label-primary">{{ task.state }}</span></td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    {{ knp_pagination_render(tasks) }}
    </div>
  {% endblock %}
