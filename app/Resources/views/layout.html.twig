{% extends 'base.html.twig' %}

{% block body %}
      <nav id="verticalNavbar" class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="{{ path('main') }}"><i class="glyphicon glyphicon-leaf"></i></a>
        </div>

      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="" class="dropdown-toggle" data-toggle="dropdown">{{ 'link.tasks'|trans({}, 'menus') }}<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="{{ path('listTask') }}">{{ 'task.all'|trans({}, 'menus') }}</a></li>
                  <li><a href="{{ path('newTask') }}">{{ 'task.new'|trans({}, 'menus') }}</a></li>
                </ul>
            </li>

            <li class="dropdown">
              <a href="" class="dropdown-toggle" data-toggle="dropdown">{{ 'link.notes'|trans({}, 'menus') }}<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="{{ path('publicNotes') }}">{{ 'public_notes'|trans({}, 'menus') }}</a></li>
                  <li><a href="{{ path('newNote') }}">{{ 'new_note'|trans({}, 'menus') }}</a></li>
                </ul>
            </li>

            <li class="dropdown">
              <a href="" class="dropdown-toggle" data-toggle="dropdown">{{ 'link.contacts'|trans({}, 'menus') }}<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="{{ path('contact') }}">{{ 'contact.all'|trans({}, 'menus') }}</a></li>
                  <li><a href="{{ path('newContact') }}">{{ 'contact.new'|trans({}, 'menus') }}</a></li>
                </ul>
            </li>

            {% if is_granted('ROLE_ADMIN') %}
              <li class="dropdown">
                <a href="" class="dropdown-toggle" data-toggle="dropdown">{{ 'admin.administrate'|trans({}, 'menus') }}<b class="caret"></b></a>
                  <ul class="dropdown-menu">
                    <li><a href="{{ path('listUsers') }}">{{ 'admin.user_list'|trans({}, 'menus') }}</a></li>
                    <li><a href="{{ path('fos_user_registration_register') }}">{{ 'admin.register_user'|trans({}, 'menus') }}</a></li>
                  </ul>
              </li>
            {% endif %}
        </ul>

      <div class="pull-right">
        <ul class="nav navbar-nav pull-right">
          <li class="dropdown">
            <a href="" class="dropdown-toggle" data-toggle="dropdown">{{ app.user.username }}<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="{{ path('fos_user_profile_show') }}">
                  <i class="glyphicon glyphicon-cog"></i> {{ 'user.preferences'|trans({}, 'menus') }}</a></li>
               <li><a href="{{ path('fos_user_security_logout') }}">
                 <i class="glyphicon glyphicon-off"></i> {{ 'user.logout'|trans({}, 'menus') }}</a></li>
              </ul>
           </li>

        </ul>
      </div>
     </div>
   </nav>

  {% block panel %}
    <div class="container-fluid">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">
            {% block panel_title %}{% endblock %}
          </h3>
        </div>
        <div class="panel-body">
          <div class="container-fluid">
            {% block panel_body %}{% endblock %}
          </div>
        </div>
      </div> 
    </div>
  {% endblock %}

{% endblock %}
